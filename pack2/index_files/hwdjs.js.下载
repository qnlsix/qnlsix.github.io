function isMobile(){return(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))}(function(a){a.getUrlParam=function(b){var c=new RegExp("(^|&)"+b+"=([^&]*)(&|$)");var d=window.location.search.substr(1).match(c);if(d!=null){return decodeURI(d[2])}var d=window.location.hash.substr(1).match(c);if(d!=null){return decodeURI(d[2])}return null}})(jQuery);function _getLocalStorage(){if(typeof localStorage=="object"){return localStorage}if(typeof globalStorage=="object"){return globalStorage[location.host]}return _CookieStore}function _getSessionStorage(){if(typeof sessionStorage=="object"){return sessionStorage}return _CookieSessionStore}function _storageSetData(a,b){_getLocalStorage().setItem(a,b)}setData=_storageSetData;function _storageGetData(a){return _getLocalStorage().getItem(a)}getData=_storageGetData;function _storageSetSessionData(a,b){_getSessionStorage().setItem(""+a,""+b)}setSessionData=_storageSetSessionData;function _storageGetSessionData(a){return _getSessionStorage().getItem(a)}getSessionData=_storageGetSessionData;function setPaging(a,d,e,f){if(d){d=d*1}if(e){e=e*1}var b="";function g(h,i){if(typeof(i)!="string"){i=h}if(h==d){b+='<li><a class="disabled current" page="'+h+'"><b>'+i+"</b></a></li>"}else{b+='<li><a href="###" page="'+h+'">'+i+"</a></li>"}}if(d>1){g(1,"首页");g(d-1,"上一页")}for(var c=d-3;c<=d+3;++c){if(c>=1&&c<e){g(c)}}if(d+3+2==e){g(d+3+1)}else{if(d+3+2<e){b+="<li><a>...</a></li>"}}if(e>1){g(e)}if(d<e){g(d+1,"下一页")}if(d<e){g(e,"尾页")}a.html(b).find("a").click(function(){f(parseInt($(this).attr("page")));return false})}function getUrlParam(a){return $.getUrlParam(a)}function initRemoveButton(g,e,n){if(g.size()>1){g.each(function(){initRemoveButton($(this),e,n)});return}if(isMobile()){g.click(function(){if(confirm("确定要删除吗？")){e.apply(g)}});return}var k=null;var a=0;var c;if(typeof(n)!="number"){n=20}g.wrap("<div class='removeable-btn nohelp'></div>");var b=g.parent();b.css("display","inline-block").css("position","relative").append('<div class="progress" style="display:none; position:absolute; width:100%; "><div class="progress-bar progress-bar-danger" style="width: 0%"><span>0%</span></div></div>');g.append("<span class='help'><br /><small>长按</small></span>");function h(){var o=0;if(c!=null){var q=new Date();o=q.getTime()-c.getTime()}var p=o*100/(50*n);if(p>=100){p=100}return p}function i(){var o=h();b.find(".progress-bar").css({width:o+"%"});b.find(".progress-bar span").html(o.toFixed(1)+"%")}function f(){i()}function l(){c=new Date();i();if(k){clearInterval(k);k=null}b.find(".progress").show();k=setInterval(f,50)}function d(){c=null;b.find(".progress").hide();if(k){clearInterval(k);k=null;b.removeClass("nohelp")}i()}function m(){var o=(h()>=100);d();if(o){b.addClass("nohelp");if(typeof(e)=="function"){e.apply(g)}}}function j(){d()}g.mousedown(l).mouseup(m).mouseleave(j).mouseenter(j)}function radioBtn(){$(this).parent().children().removeClass("btn-success").addClass("btn-default");$(this).removeClass("btn-default").addClass("btn-success")}function radioBtnWithIcon(){$(this).parent().children().removeClass("btn-success").addClass("btn-default").find("i").removeClass("fa-check").addClass("fa-remove");$(this).removeClass("btn-default").addClass("btn-success").find("i").removeClass("fa-remove").addClass("fa-check")}function checkBtn(){if($(this).hasClass("btn-success")){$(this).removeClass("btn-success").addClass("btn-default")}else{$(this).removeClass("btn-default").addClass("btn-success")}}function checkBtnWithIcon(){if($(this).hasClass("btn-success")){$(this).removeClass("btn-success").addClass("btn-default").find("i").removeClass("fa-check").addClass("fa-remove")}else{$(this).removeClass("btn-default").addClass("btn-success").find("i").removeClass("fa-remove").addClass("fa-check")}}function checkListItem(){if($(this).hasClass("list-group-item-success")){$(this).removeClass("list-group-item-success").addClass("")}else{$(this).removeClass("").addClass("list-group-item-success")}}function radioListItem(){$(this).parent().children().removeClass("list-group-item-success");$(this).addClass("list-group-item-success")}function getErrorDesc(a,b){if(a=="UNLOGIN"){return"未登录，请登录后操作。"}else{if(a=="UNAUTHORIZED"){return"您无权进行此操作。"}else{if(a=="INVALID_PARAM"){return"参数错误。"}else{if(typeof(b)=="string"&&b!=""){return b}else{return"未知错误。"}}}}}function formatDouble(a){var b=""+a;var c=b.indexOf(".");if(c<0){return b}return b.substr(0,c+2)}function formatDateTime(a){if(!a){return""}if(a>0){a=new Date(1*a)}else{if(!(a instanceof Date)){a=new Date(a)}}return a.getFullYear()+"-"+(100+a.getMonth()+1+"").substring(1)+"-"+(100+a.getDate()+"").substring(1)+" "+(100+a.getHours()+"").substring(1)+":"+(100+a.getMinutes()+"").substring(1)+":"+(100+a.getSeconds()+"").substring(1)}function formatDateTimeShort(c){if(!c){return""}if(c>0){c=new Date(1*c)}else{if(!(c instanceof Date)){c=new Date(c)}}var a=new Date();var b="";if(c.getFullYear()!=a.getFullYear()){b+=c.getFullYear()+"-"}return b+(100+c.getMonth()+1+"").substring(1)+"-"+(100+c.getDate()+"").substring(1)+" "+(100+c.getHours()+"").substring(1)+":"+(100+c.getMinutes()+"").substring(1)+":"+(100+c.getSeconds()+"").substring(1)}function formatCostTime(a){if(!(a>0)){return 0}a/=1000;if(a<60){return formatDouble(a)+" s"}a/=60;if(a<60){return formatDouble(a)+" min"}a/=60;return formatDouble(a)+" hour"}function formatSize(a){if(!(a>0)){return"0B"}if(!(a>1000)){return formatDouble(a)+"B"}a/=1024;if(!(a>1000)){return formatDouble(a)+"KB"}a/=1024;if(!(a>1000)){return formatDouble(a)+"MB"}a/=1024;if(!(a>1000)){return formatDouble(a)+"GB"}a/=1024;return formatDouble(a)+"TB"}function qianFen(a){var b="";for(var c=0;c<a.length;++c){if(c>0&&(a.length-c)%3==0){b+=","}b+=a.charAt(c)}return b}function moneyText(a){if(typeof a=="undefined"){return""}var b=false;if(a<0){b=true;a=-a}moneyInYuan=""+a;while(moneyInYuan.length<3){moneyInYuan="0"+moneyInYuan}moneyInYuan=qianFen(moneyInYuan.substr(0,moneyInYuan.length-2))+"."+moneyInYuan.substr(-2);if(b){return'<span style="color:red;">-'+moneyInYuan+"</span>"}else{return moneyInYuan}}function moneyTextV(a){if(typeof a=="undefined"){return""}var b=false;if(a<0){b=true;a=-a}moneyInYuan=""+a;while(moneyInYuan.length<3){moneyInYuan="0"+moneyInYuan}moneyInYuan=moneyInYuan.substr(0,moneyInYuan.length-2)+"."+moneyInYuan.substr(-2);if(b){return"-"+moneyInYuan}return moneyInYuan}function escapeNullAsEmpty(a){return(a==null?"":a)}function htmlRender(f,c){var b=f;var a=[];var d={};d.add=function(g,h){a.push({sel:g,info:h})};if(c){d.add(null,c)}function e(g){return typeof(g)=="string"&&g!=""}d.run=function(j){if(j){b.html(j)}for(var h in a){var k=b;if(a[h].sel&&a[h].sel!=""){k=b.find(a[h].sel)}var l=a[h].info;if(!l){continue}function g(){var q=$(this).attr("tx");if(q&&q!=""){$(this).text(escapeNullAsEmpty(l[q]))}var r=$(this).attr("ht");if(r&&r!=""){$(this).html(escapeNullAsEmpty(l[r]))}var u=$(this).attr("ti");if(u&&u!=""){$(this).attr("title",escapeNullAsEmpty(l[u]))}var n=$(this).attr("va");if(n&&n!=""){var t=escapeNullAsEmpty(l[n]);if($(this).hasClass("btn-group")){var v=(""+(t||"")).split(",");$(this).find(".btn").removeClass("btn-success").addClass("btn-default");$(this).find(".btn").each(function(){var w=$(this).attr("value");if(w&&w!=""&&(w==t||v.indexOf(w)>=0)){$(this).removeClass("btn-default").addClass("btn-success")}})}else{$(this).val(t)}}var m=$(this).attr("hr");if(m&&m!=""){$(this).attr("href",escapeNullAsEmpty(l[m]))}var o=$(this).attr("tim");if(o&&o!=""){$(this).text((l[o]>0)?formatDateTimeShort(l[o]):"")}var i=$(this).attr("mo");if(i&&i!=""){$(this).html(moneyText(l[i]))}var s=$(this).attr("vamo");if(e(s)){$(this).val(moneyTextV(l[s]))}var p=$(this).attr("vatim");if(p&&p!=""){$(this).val((l[p]>0)?formatDateTime(l[p]):"")}}k.each(g);k.find("*").each(g)}};return d}function gatherValues(a){var b={};function c(){var h=$(this).attr("va");if(h&&h!=""){if($(this).hasClass("btn-group")){var e="";$(this).find(".btn.btn-success").each(function(){if(e!=""){e+=","}e+=$(this).attr("value")});b[h]=e}else{b[h]=$(this).val()}}var d=$(this).attr("vamo");if(d&&d!=""){b[d]=Math.floor($(this).val()*100+0.5)}var g=$(this).attr("vatim");if(g&&g!=""){var f=new Date($(this).val());if(f.getTime()>0){b[g]=f.getTime()}}}a.each(c);a.find("*").each(c);return b}function upDownButtons(){return'<div class="updown"><a class="up" href="###"></a><a class="down" href="###"></a></div>'};